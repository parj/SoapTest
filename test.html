<!DOCTYPE html>
<html>
<head>
    <title>SOAP JavaScript Client Test</title>
    <script type="text/javascript">
        function soap() {
            var xmlhttp = new XMLHttpRequest();

            // build SOAP request
            var sr = '<?xml version="1.0" encoding="utf-8"?> ' +
 				     '<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"> ' + 
						'<soap:Body> ' + 
	 					'<tns:hello xmlns:tns="http://simple.pm.org/"> ' + 
					 	'</tns:hello> ' +
						'</soap:Body> ' +
						'</soap:Envelope>';

            xmlhttp.onreadystatechange = function () {
                if (xmlhttp.readyState == 4) {
                    if (xmlhttp.status == 200) {

                        alert('done use firebug to see responce');
                    }
                }
            }
            
            alert(sr);
            xmlhttp.open('POST', 'http://192.168.1.7:9099/mysoap/HelloWorld', true);
            xmlhttp.setRequestHeader ("Host", "localhost");
    		xmlhttp.setRequestHeader("Access-Control-Allow-Origin", "*");
    		xmlhttp.setRequestHeader ("Content-Type", "text/xml; charset=utf-8");
    		xmlhttp.setRequestHeader("Content-Length", sr.length);
            // Send the POST request
            xmlhttp.setRequestHeader('Content-Type', 'text/xml');
            xmlhttp.send(sr);
            // send request
            // ...
        }
    </script>
</head>
<body>
    <form name="Demo" action="" method="post">
        <div>
            <input type="button" value="Soap" onclick="soap();" />
        </div>
    </form>
</body>
</html>
